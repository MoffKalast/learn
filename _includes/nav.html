<script>

var rosvers = ["kinetic", "noetic"];

function set_ros_version(version) {   
    document.getElementById("button_"+version).checked = true;
    document.getElementById("distroslider").style.display = "block";

    for (i in rosvers) {
        let list = document.getElementsByClassName(rosvers[i]);

        if (rosvers[i] == version) {
            for (let i = 0; i < list.length; i++) {
                list[i].style.display = "block";
            }
        } else {
            for (let i = 0; i < list.length; i++) {
                list[i].style.display = "none";
            }
        }
    }
}

function redirect(version){
    let url = window.location.href;
    for (i in rosvers) {
        if(url.includes(rosvers[i])){
            location = url.replace(rosvers[i],version);
            return;
        }
    }    
}

window.onload = function() {
    let url = window.location.href;
    for (i in rosvers) {
        if(url.includes(rosvers[i])){
            set_ros_version(rosvers[i]);
            return;
        }
    }

    set_ros_version("noetic");
    
};

</script>

{%- assign groups = "overview|quick start|conveyorbot|ez-map" | split: "|" %}
{%- assign nav = site.pages | sort:"nav_order" %}

{%- for group in groups %}
    <p class="caption"><b class="caption-text" style="color: #66C4FF">{{ group }}</b></p>

    {%- for nav_item in nav %}
        {%- if nav_item.group == group and nav_item.nav_exclude != true and nav_item.name != "README.md" %}

            <div class="{{ nav_item.rosver }}">

                {%- if nav_item.url == page.url %}
                    {%- include toc.html html=content sanitize=true h_max=2 item_class="toctree-l%level%" title=nav_item.title %}

                {%- else %}
                     <ul>
                        <li class="toctree-l1">
                            <a class="reference internal" href="{{ nav_item.url | absolute_url}}">{{ nav_item.title }}</a>
                        </li>
                    </ul>
                {%- endif %}

            </div>

        {%- endif %}
    {%- endfor %}

{%- endfor %}